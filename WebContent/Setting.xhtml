<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
    <f:metadata>
        <f:viewParam name="id" value="#{setting.id}" />
        <f:event type="preRenderView" listener="#{setting.init()}" />
    </f:metadata>
    
	<ui:define name="content">
	<h:form id="settingForm">
	    <h:panelGrid columns="6">
	     <h:outputText value="Name"></h:outputText>
	     <h:inputText value="#{setting.name}" style="font-weight: bold; font-style: normal"></h:inputText>
			
		<h:outputText value="ID"></h:outputText>
	     <h:outputLabel value="#{setting.id}" style="font-weight: bold"></h:outputLabel>
	     <h:outputText value="Last update date"></h:outputText>
	     <h:outputLabel style="font-weight: bold" value="#{setting.theLastEntry}">
	     	<f:convertDateTime pattern="dd.MM.yyyy HH:mm" />
	     </h:outputLabel>


		</h:panelGrid>
	    <h:panelGroup>
	    	<h:outputText value="Transponders"></h:outputText>
	    	<h:panelGroup>
	    	
				<h:commandButton value="Select transponders..." action="#{setting.gotoSelection()}">
				<f:ajax execute="settingForm" render="settingForm:SettingsConversion" />
				 <f:param name="SelectionMode" value="#{true}" />
				 <f:param name="SettingId" value="#{setting.id}" />
				</h:commandButton>
				<h:commandButton value="Up"></h:commandButton>
				<h:commandButton value="Down"></h:commandButton>
						
			</h:panelGroup>
	    		    		    	
			<h:dataTable border="1" id="SettingsConversion" value="#{setting.dataSettingsConversion}" var = "dataSC">
				<h:column id="LineNo">
					<f:facet name="header">
						<h:outputText value="Line no."></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.lineNumber}"/>
				</h:column>
				<h:column id="Transponder">
					<f:facet name="header">
						<h:outputText value="Transponder"></h:outputText>
					</f:facet>
									
					<h:outputText value="#{dataSC.transponder}" />
					<h:button value="..." rendered="#{dataSC.editable}" style="float:right"></h:button>	
					

					</h:column>
					<h:column id="Polarization">
					<f:facet name="header">
						<h:outputText value="Pol."></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.polarization}"/>
				</h:column>
				<h:column id="Carrier">
					<f:facet name="header">
						<h:outputText value="Carrier"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.carrier}"/>
				</h:column>
				<h:column id="Speed">
					<f:facet name="header">
						<h:outputText value="Speed"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.speed}"/>
				</h:column>
				<h:column id="Satellite">
					<f:facet name="header">
						<h:outputText value="Satellite"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.satellite}"/>
				</h:column>
				<h:column id="FEC">
					<f:facet name="header">
						<h:outputText value="FEC"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.FEC}"/>
				</h:column>
				<h:column id="Satindex">
					<f:facet name="header">
						<h:outputText value="SatIdx"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.satindex}"/>
				</h:column>
				<h:column id="Tpindex">
					<f:facet name="header">
						<h:outputText value="TpIdx"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.tpindex}"/>
				</h:column>
				<h:column id="Intersection">
					<f:facet name="header">
						<h:outputText value="Int-tion #"></h:outputText>
					</f:facet>
					<h:outputText value="#{dataSC.theLineOfIntersection}"/>
				</h:column>
				<h:column id="Comment">
					<f:facet name="header">
						<h:outputText value="Comment"></h:outputText>
					</f:facet>
					<h:inputText value="#{dataSC.note}" rendered="#{dataSC.editable}" />
					<h:inputText value="#{dataSC.note}" rendered="#{not dataSC.editable}" />
				</h:column>
				<h:column id="ActionColumn">
					<f:facet name="header">
						<h:outputText value="Actions"></h:outputText>
					</f:facet>
					<h:commandLink value="Edit" action="#{setting.setEditRow(dataSC)}" rendered="#{not dataSC.editable}" />
					<h:commandLink value="Cancel" action="#{setting.setCancelEdit(dataSC)}" rendered="#{dataSC.editable}" />
					<h:commandLink value="Remove" action="#{setting.removwRow(dataSC)}" rendered="true">
						<f:ajax render="settingForm:SettingsConversion" />
					</h:commandLink>
					
					</h:column>
					<h:column id="Checked">
					<f:facet name="header">
						<h:outputText value="Check"></h:outputText>
					</f:facet>					
					<h:selectBooleanCheckbox value="#{dataSC.checked}" ></h:selectBooleanCheckbox>
					</h:column>
			</h:dataTable>
					
		</h:panelGroup>
			<h:commandButton value="OK" action="#{setting.saveSetting()}"></h:commandButton>
			<h:commandButton value="Cancel" action="cancel"></h:commandButton>
		</h:form>
		
	</ui:define>

</ui:composition>

</html>