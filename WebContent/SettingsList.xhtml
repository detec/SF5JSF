<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">


<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">

	<ui:define name="content">
	    <h:outputLabel value="Current login: #{loginBean.name}, #{loginBean.user.name}">
	    
	    </h:outputLabel>
	    <h:form>
	    <h:dataTable border="1" var = "s" value="#{settingsController.settingsbyUser}">
	<h:column id="ID">
		<f:facet name="header" >
			<h:outputText value="ID"></h:outputText>
			</f:facet>
	<h:link value="#{s.id}" outcome="Setting">
	 <f:param name="id" value="#{s.id}" />
	</h:link>
	</h:column>
	<h:column id="Name">
		<f:facet name="header">
			<h:outputText value="Name" ></h:outputText>
		</f:facet>
		<h:outputText value="#{s.name}" ></h:outputText>
	</h:column>
	<h:column id="LastUpdate">
		<f:facet name="header">
			<h:outputText value="Last update date"></h:outputText>
		</f:facet>
		<h:outputText value="#{s.theLastEntry}"></h:outputText>		
	</h:column>
	<h:column id="Remove">
		<f:facet name="header" >
			<h:outputText value="Delete"></h:outputText>
			</f:facet>
	<h:commandLink value="Delete" action="#{settingsController.removeSetting(s.id)}"/>
	
	</h:column>	
</h:dataTable>
</h:form>
<h:form>
	<h:commandLink value="Add setting..." action="#{settingsController.addSetting()}"></h:commandLink>
</h:form>
</ui:define>


</ui:composition>

</html>